<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="420" viewBox="0 0 1200 420">
<defs>
<marker id="arrow" markerWidth="12" markerHeight="8" refX="10" refY="4" orient="auto" markerUnits="strokeWidth">
<polygon points="0 0, 12 4, 0 8" fill="#333333" />
</marker>
</defs>
<rect x="0" y="0" width="1200" height="420" fill="#ffffff" />
<line x1="100" y1="230" x2="1100" y2="230" stroke="#333333" stroke-width="2" />
<line x1="100" y1="220" x2="100" y2="240" stroke="#333333" stroke-width="2" />
<text x="100" y="260" font-family="Arial, Helvetica, sans-serif" font-size="11" text-anchor="middle" fill="#111111"><tspan x="100" dy="0">t0</tspan></text>
<line x1="400" y1="220" x2="400" y2="240" stroke="#333333" stroke-width="2" />
<text x="400" y="260" font-family="Arial, Helvetica, sans-serif" font-size="11" text-anchor="middle" fill="#111111"><tspan x="400" dy="0">t0 + 30s</tspan></text>
<line x1="700" y1="220" x2="700" y2="240" stroke="#333333" stroke-width="2" />
<text x="700" y="260" font-family="Arial, Helvetica, sans-serif" font-size="11" text-anchor="middle" fill="#111111"><tspan x="700" dy="0">t0 + 60s</tspan></text>
<line x1="1000" y1="220" x2="1000" y2="240" stroke="#333333" stroke-width="2" />
<text x="1000" y="260" font-family="Arial, Helvetica, sans-serif" font-size="11" text-anchor="middle" fill="#111111"><tspan x="1000" dy="0">t0 + 90s</tspan></text>
<rect x="60" y="90" width="220" height="60" fill="#f5f5f5" stroke="#333333" stroke-width="2" />
<text x="170" y="125" font-family="Arial, Helvetica, sans-serif" font-size="12" text-anchor="middle" fill="#111111"><tspan x="170" dy="0">WAIT_INVENTORY</tspan></text>
<text x="170" y="145" font-family="Arial, Helvetica, sans-serif" font-size="11" text-anchor="middle" fill="#111111"><tspan x="170" dy="0">attempts=0</tspan></text>
<rect x="320" y="90" width="260" height="60" fill="#fff7e6" stroke="#b26a00" stroke-width="2" />
<text x="450" y="120" font-family="Arial, Helvetica, sans-serif" font-size="11" text-anchor="middle" fill="#111111"><tspan x="450" dy="0">timeout -> retry reserve</tspan></text>
<text x="450" y="140" font-family="Arial, Helvetica, sans-serif" font-size="11" text-anchor="middle" fill="#111111"><tspan x="450" dy="0">attempts=1</tspan></text>
<rect x="620" y="90" width="260" height="60" fill="#fff7e6" stroke="#b26a00" stroke-width="2" />
<text x="750" y="120" font-family="Arial, Helvetica, sans-serif" font-size="11" text-anchor="middle" fill="#111111"><tspan x="750" dy="0">timeout -> retry reserve</tspan></text>
<text x="750" y="140" font-family="Arial, Helvetica, sans-serif" font-size="11" text-anchor="middle" fill="#111111"><tspan x="750" dy="0">attempts=2</tspan></text>
<rect x="900" y="90" width="260" height="60" fill="#fff3f3" stroke="#b71c1c" stroke-width="2" />
<text x="1030" y="120" font-family="Arial, Helvetica, sans-serif" font-size="11" text-anchor="middle" fill="#111111"><tspan x="1030" dy="0">exceeded max -> cancel</tspan></text>
<text x="1030" y="140" font-family="Arial, Helvetica, sans-serif" font-size="11" text-anchor="middle" fill="#111111"><tspan x="1030" dy="0">publish order.cancel</tspan></text>
<rect x="60" y="300" width="360" height="60" fill="#eef4ff" stroke="#2f4a6d" stroke-width="2" />
<text x="240" y="330" font-family="Arial, Helvetica, sans-serif" font-size="12" text-anchor="middle" fill="#111111"><tspan x="240" dy="0">CheckoutSagaTimeoutScheduler</tspan></text>
<text x="240" y="350" font-family="Arial, Helvetica, sans-serif" font-size="11" text-anchor="middle" fill="#111111"><tspan x="240" dy="0">scan every scanFixedDelayMs</tspan></text>
<line x1="240" y1="300" x2="240" y2="230" stroke="#333333" stroke-width="2" marker-end="url(#arrow)" />
</svg>