<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="480" viewBox="0 0 1200 480">
  <defs>
    <marker id="arrow" markerWidth="12" markerHeight="8" refX="10" refY="4" orient="auto" markerUnits="strokeWidth">
      <polygon points="0 0, 12 4, 0 8" fill="#333333" />
    </marker>
  </defs>

  <rect x="0" y="0" width="1200" height="480" fill="#ffffff" />

  <!-- State boxes -->
  <rect x="60" y="80" width="180" height="60" rx="8" fill="#f5f5f5" stroke="#333333" stroke-width="2" />
  <text x="150" y="115" font-family="Arial, Helvetica, sans-serif" font-size="14" text-anchor="middle" fill="#111111">STARTED</text>

  <rect x="270" y="80" width="180" height="60" rx="8" fill="#f5f5f5" stroke="#333333" stroke-width="2" />
  <text x="360" y="115" font-family="Arial, Helvetica, sans-serif" font-size="14" text-anchor="middle" fill="#111111">WAIT_INVENTORY</text>

  <rect x="480" y="80" width="180" height="60" rx="8" fill="#f5f5f5" stroke="#333333" stroke-width="2" />
  <text x="570" y="115" font-family="Arial, Helvetica, sans-serif" font-size="14" text-anchor="middle" fill="#111111">WAIT_PAYMENT</text>

  <rect x="690" y="80" width="180" height="60" rx="8" fill="#f5f5f5" stroke="#333333" stroke-width="2" />
  <text x="780" y="108" font-family="Arial, Helvetica, sans-serif" font-size="13" text-anchor="middle" fill="#111111">WAIT_ORDER</text>
  <text x="780" y="128" font-family="Arial, Helvetica, sans-serif" font-size="13" text-anchor="middle" fill="#111111">COMPLETION</text>

  <rect x="900" y="80" width="180" height="60" rx="8" fill="#e8fff0" stroke="#2d7a4b" stroke-width="2" />
  <text x="990" y="115" font-family="Arial, Helvetica, sans-serif" font-size="14" text-anchor="middle" fill="#1b5e32">COMPLETED</text>

  <rect x="470" y="300" width="260" height="70" rx="8" fill="#fff3f3" stroke="#b71c1c" stroke-width="2" />
  <text x="600" y="340" font-family="Arial, Helvetica, sans-serif" font-size="14" text-anchor="middle" fill="#7f0000">CANCELED</text>

  <!-- Horizontal transitions -->
  <line x1="240" y1="110" x2="270" y2="110" stroke="#333333" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="450" y1="110" x2="480" y2="110" stroke="#333333" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="660" y1="110" x2="690" y2="110" stroke="#333333" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="870" y1="110" x2="900" y2="110" stroke="#333333" stroke-width="2" marker-end="url(#arrow)" />

  <text x="360" y="155" font-family="Arial, Helvetica, sans-serif" font-size="12" text-anchor="middle" fill="#333333">inventory.reserved</text>
  <text x="570" y="155" font-family="Arial, Helvetica, sans-serif" font-size="12" text-anchor="middle" fill="#333333">payment.authorized</text>
  <text x="780" y="155" font-family="Arial, Helvetica, sans-serif" font-size="12" text-anchor="middle" fill="#333333">order.completed</text>

  <!-- Failure transitions -->
  <line x1="360" y1="140" x2="600" y2="300" stroke="#b71c1c" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="570" y1="140" x2="600" y2="300" stroke="#b71c1c" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="780" y1="140" x2="600" y2="300" stroke="#b71c1c" stroke-width="2" marker-end="url(#arrow)" />

  <text x="330" y="220" font-family="Arial, Helvetica, sans-serif" font-size="12" text-anchor="middle" fill="#7f0000">inventory.rejected</text>
  <text x="330" y="236" font-family="Arial, Helvetica, sans-serif" font-size="12" text-anchor="middle" fill="#7f0000">or timeout</text>

  <text x="570" y="220" font-family="Arial, Helvetica, sans-serif" font-size="12" text-anchor="middle" fill="#7f0000">payment.declined</text>
  <text x="570" y="236" font-family="Arial, Helvetica, sans-serif" font-size="12" text-anchor="middle" fill="#7f0000">or timeout</text>

  <text x="800" y="220" font-family="Arial, Helvetica, sans-serif" font-size="12" text-anchor="middle" fill="#7f0000">order timeout</text>
</svg>
